/*
  This is a Cocoa HTTP client generated by HTTP4e2 (http://www.nextinterfaces.com)
 */
NSString *baseURLString = @"$httpBean.url";
NSString *urlString = [[NSString alloc] initWithFormat:@"%@", baseURLString];
NSURL *url = [[NSURL alloc] initWithString:urlString];
NSMutableURLRequest *req = [[NSMutableURLRequest alloc] initWithURL:url];
[req setHTTPMethod:@"PUT"];
#foreach( $hKey in $httpBean.headers.keySet() )
[req setValue:@"$httpBean.headers.get($hKey)" forHTTPHeaderField:@"$hKey"];
#end

NSData *paramData = [@"$httpBean.body" dataUsingEncoding:NSUTF8StringEncoding];
[req setHTTPBody: paramData];	

NSHTTPURLResponse* urlResponse = nil;  
NSError* error = [[NSError alloc] init];  
NSData *responseData = [NSURLConnection sendSynchronousRequest:req
                                             returningResponse:&urlResponse   
                                                         error:&error];  
NSString *result = [[NSString alloc] initWithData:responseData
                                         encoding:NSUTF8StringEncoding];
NSLog(@"Response Code: %d", [urlResponse statusCode]);
if ([urlResponse statusCode] >= 200 && [urlResponse statusCode] < 300)
	NSLog(@"Result: %@", result);

[urlString release];
[url release];
[result release];
[req release];